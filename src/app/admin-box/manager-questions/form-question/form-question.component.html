<div class="section w-100">
  <form
    class="form w-100"
    [formGroup]="questionForm"
    (ngSubmit)="onSubmit(questionForm.value)"
  >
    <mat-form-field appearance="outline" class="custom-input">
      <mat-label>Câu hỏi</mat-label>
      <textarea
        type="text"
        matInput
        [mat-autosize]="true"
        formControlName="question"
      ></textarea>
    </mat-form-field>

    <div formArrayName="answers" *ngIf="answers.controls.length">
      <div class="form-group" *ngFor="let c of answers.controls; index as i">
        <mat-form-field appearance="outline" class="custom-input">
          <mat-label>Lựa chọn {{ i + 1 }}</mat-label>
          <textarea
            type="text"
            matInput
            [mat-autosize]="true"
            [formControlName]="i"
          ></textarea>
        </mat-form-field>
        <div class="group-btn">
          <mat-radio-button
            [style]="{ marginTop: '20px' }"
            [value]="i"
           (click)="onRadioCheck(i)"
          ></mat-radio-button>
          <button
            mat-mini-fab
            color="primary"
            type="button"
            (click)="addAnswer()"
          >
            +
          </button>
          <button
            mat-mini-fab
            color="warn"
            type="button"
            (click)="removeAnswer(i)"
            *ngIf="answers.controls.length > 1"
          >
            -
          </button>
        </div>
      </div>
    </div>

    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="!questionForm.valid"
      [style]="{ marginRight: '10px' }"
    >
      Xác nhận
    </button>
    <button
      mat-raised-button
      color="warn"
      (click)="questionForm.reset()"
      type="button"
    >
      Reset
    </button>
  </form>
</div>
